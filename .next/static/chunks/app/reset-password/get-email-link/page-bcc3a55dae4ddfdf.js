(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{7853:function(e,r,s){Promise.resolve().then(s.bind(s,5260))},5260:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var t,a,l=s(7437),n=s(1396),o=s.n(n),d=s(9222),i=s(2265);function c(){let[e,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)(""),[n,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)(""),[g,x]=(0,i.useState)(a.None);(0,i.useEffect)(()=>{s.length>0&&s.includes("@")&&s.includes(".")?c(!1):c(!0)},[s]);let h=async()=>{try{r(!0),console.log(s);let e=await d.Z.post("/api/users/pw/gen-reset-link",{email:s});console.log(e.data),e.data.success?(m(""),x(a.Success)):(x(a.Error),m(e.data.error))}catch(e){x(a.Error),m(e.message),console.log(e)}finally{r(!1)}};return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen  bg-gray-50 dark:bg-gray-900",children:g!=a.None?(0,l.jsxs)("div",{className:"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700  ",children:[(0,l.jsx)("h5",{className:"text-xl font-medium text-gray-900 dark:text-white",children:g==a.Error?"Some Error Occured":"Password Reset Link Sent"}),(0,l.jsx)("div",{className:"".concat(g==a.Error?"text-red-500":"text-green-900 animate-bounce","  block mb-2 text-sm font-medium \n                        "),children:g==a.Error?u:"A password reset link has been sent to your email address."}),(0,l.jsxs)("div",{children:["Go to"," ",(0,l.jsx)(o(),{className:"text-blue-700 hover:underline dark:text-blue-500",href:"/login",children:"Login"})," ","page"]})]}):(0,l.jsx)("div",{className:"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700  ",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h5",{className:"text-xl font-medium text-gray-900 dark:text-white",children:e?"Processing":"Reset Password"}),(0,l.jsx)("p",{className:"block animate-pulse mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Fill up the form to reset the password"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,l.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",id:"email",type:"email",value:s,onChange:e=>t(e.target.value),placeholder:"email@domain.com"})]}),(0,l.jsxs)("button",{disabled:n,onClick:h,className:"w-full  text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center justify-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ".concat(n?"opacity-50 cursor-not-allowed":""),children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6 m-1",children:(0,l.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),(0,l.jsx)("span",{children:e?(0,l.jsxs)(l.Fragment,{children:["Processing"," ",(0,l.jsx)("div",{className:"animate-pulse text-white inline",children:"..."})]}):"Reset Password"})]}),(0,l.jsxs)("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-300",children:["Not registered yet ?"," ",(0,l.jsx)(o(),{href:"/signup",className:"text-blue-700 hover:underline dark:text-blue-500",children:"Signup"})]})]})})})}(t=a||(a={})).Error="error",t.None="none",t.Success="success"}},function(e){e.O(0,[750,396,971,596,744],function(){return e(e.s=7853)}),_N_E=e.O()}]);