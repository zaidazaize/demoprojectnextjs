(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{4256:function(e,r,s){Promise.resolve().then(s.bind(s,6663))},6663:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return i}});var t,a,o=s(7437),l=s(4033),n=s(9222),d=s(2265),c=s(1396),u=s.n(c);function i(e){let{params:r}=e,s=(0,l.useRouter)(),[t,c]=(0,d.useState)(""),[i,g]=(0,d.useState)(""),[m,b]=(0,d.useState)(""),[h,x]=(0,d.useState)(""),[f,p]=(0,d.useState)(!0),[w,k]=(0,d.useState)(a.None),[y,N]=(0,d.useState)(""),[j,v]=(0,d.useState)(!1);(0,d.useEffect)(()=>{t.length>0&&i.length>0?p(!1):p(!0)},[t,i]);let S=async()=>{if(t!==i){b("Passwords do not match");return}try{v(!0);let e=await n.Z.post("/api/users/pw/vres-pass-tk",{password:t,confirmPassword:i,resetToken:r.resetToken});e.data.success?(k(a.Success),s.push("/login")):k(e.data.message)}catch(e){v(!1),console.log(e)}finally{v(!1)}};return(0,d.useEffect)(()=>{let e=window.location.search.split("=")[1];e&&0!=e.length?N(e):(k(a.Error),x("No token found. Please check your email for the reset link."))},[]),(0,o.jsx)("div",{className:"flex items-center justify-center min-h-screen max-h-screen bg-gray-50 dark:bg-gray-900",children:w===a.None?(0,o.jsx)("div",{className:"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700  ",children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("h5",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Reset Password"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New password"}),(0,o.jsx)("input",{type:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",placeholder:"New Password",onChange:e=>c(e.target.value)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm new password"}),(0,o.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white",type:"password",placeholder:"Confirm New Password",onChange:e=>g(e.target.value)})]}),(0,o.jsxs)("div",{children:[""!==m?(0,o.jsx)("div",{className:"text-red-500 text-sm font-medium",children:m}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("button",{disabled:f,className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ".concat(f?"opacity-50 cursor-not-allowed":""," ").concat(j?"animate-pulse":"","}"),onClick:S,children:j?"Processing":"Reset Password"})]})]})}):(0,o.jsxs)("div",{className:"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700  ",children:[(0,o.jsx)("h5",{className:"text-xl font-medium text-gray-900 dark:text-white",children:w===a.Error?"Some Error Occured":"Successfully Verified "}),(0,o.jsx)("div",{className:"".concat(w==a.Error?"text-red-500 animate-pulse":"text-green-900 animate-bounce","  block mb-2 text-sm font-medium \n                        "),children:h}),(0,o.jsxs)("p",{children:["Go to"," ",(0,o.jsxs)(u(),{href:"/login",className:"text-blue-700 hover:underline",children:["Login"," "]}),"Page"]})]})})}(t=a||(a={})).Error="error",t.None="none",t.Success="success"},4033:function(e,r,s){e.exports=s(8165)}},function(e){e.O(0,[750,396,971,596,744],function(){return e(e.s=4256)}),_N_E=e.O()}]);